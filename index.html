<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop Azra</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <!-- Header -->
    <header>
        <h1>Shop Azra</h1>
        <nav>
            <ul>
                <li><a href="index.html">Accueil</a></li>
                <li><a href="produits.html">Produits</a></li>
                <li><a href="panier.html">Panier</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>

    <!-- Section principale -->
    <main>
        <!-- Bandeau promo -->
        <nav class="promo-marquee">
            <div class="marquee">
                <p>üî• Promo du jour : Casque P9 √† -20% ! &nbsp;&nbsp; | &nbsp;&nbsp; Vente flash : Dongle Bluetooth offert pour tout achat de support laptop !</p>
            </div>
        </nav>

        <!-- Hero -->
        <section class="hero">
            <h2>Bienvenue chez Shop Azra</h2>
            <p>Vos accessoires √©lectroniques de qualit√© √† port√©e de clic !</p>
            <a href="produits.html" class="btn-hero">Voir nos produits</a>
        </section>

        <!-- Produits phares -->
        <section class="produits">
            <h2>Nos produits phares</h2>
            <div class="produit-list">
                <div class="produit product">
                    <img src="assets/img/laptop_stand.jpg" alt="Support pour Laptop">
                    <h3>Support pour Laptop</h3>
                    <p>Confort et ergonomie pour votre bureau</p>
                    <span class="prix">25000Fc</span>
                    <button class="btn" onclick="ajouterAuPanier('Support pour Laptop', 25000)">Ajouter au panier</button>
                </div>
                <div class="produit product">
                    <img src="assets/img/usb_dongle_bluetooth.jpg" alt="Dongle Bluetooth">
                    <h3>Dongle Bluetooth</h3>
                    <p>Connectez vos appareils sans fil facilement</p>
                    <span class="prix">21500Fc</span>
                    <button class="btn" onclick="ajouterAuPanier('Dongle Bluetooth', 21500)">Ajouter au panier</button>
                </div>
                <div class="produit product">
                    <img src="assets/img/casque_p9.png" alt="Casque P9">
                    <h3>Casque P9</h3>
                    <p>Qualit√© audio sup√©rieure pour votre musique</p>
                    <span class="prix">20500Fc</span>
                    <button class="btn" onclick="ajouterAuPanier('Casque P9', 20500)">Ajouter au panier</button>
                </div>
            </div>
        </section>

        <!-- Mini-panier flottant OPTION B -->
        <section class="mini-panier">
            <h2>Votre s√©lection</h2>
            <div id="mini-cart-items">
                <!-- Les derniers produits ajout√©s appara√Ætront ici via JS -->
            </div>
            <a href="panier.html" class="btn-voir-panier">Voir le panier</a>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Shop Azra. Tous droits r√©serv√©s.</p>
        <div class="social">
            <a href="#">Facebook</a> | 
            <a href="#">Instagram</a> | 
            <a href="#">WhatsApp</a>
        </div>
    </footer>

    <!-- Scripts JS -->
    <script src="assets/js/main.js" defer></script>
    <script src="assets/js/panier.js" defer></script>
    <script>
        // Mini-panier OPTION B avec boutons + / -
        function afficherMiniPanierOptionB() {
            const miniCart = document.getElementById('mini-cart-items');
            if (!miniCart) return;

            miniCart.innerHTML = '';
            const derniersProduits = panier.slice(-3).reverse();

            const miniPanierSection = document.querySelector('.mini-panier');
            if (derniersProduits.length === 0) {
                miniPanierSection.classList.add('hidden');
            } else {
                miniPanierSection.classList.remove('hidden');
                derniersProduits.forEach((item, index) => {
                    const div = document.createElement('div');
                    div.className = 'mini-item';
                    div.innerHTML = `
    <span>${item.nom}</span><br>
    <span>${item.quantite} x ${item.prix} Fc</span>
    <div class='qty-control'>
        <button class='moins' data-index='${index}'>-</button>
        <button class='plus' data-index='${index}'>+</button>
    </div>
`;

                    `;
                    miniCart.appendChild(div);
                });

                // √âv√©nements boutons + / -
                document.querySelectorAll('.plus').forEach(btn => {
                    btn.addEventListener('click', e => {
                        const idx = e.target.dataset.index;
                        panier[idx].quantite++;
                        sauvegarderEtAfficher();
                        afficherMiniPanierOptionB();
                    });
                });

                document.querySelectorAll('.moins').forEach(btn => {
                    btn.addEventListener('click', e => {
                        const idx = e.target.dataset.index;
                        if (panier[idx].quantite > 1) {
                            panier[idx].quantite--;
                        } else {
                            panier.splice(idx, 1);
                        }
                        sauvegarderEtAfficher();
                        afficherMiniPanierOptionB();
                    });
                });
            }
        }

        // Mettre √† jour mini-panier √† chaque ajout
        const boutons = document.querySelectorAll('.produit .btn');
        boutons.forEach(btn => btn.addEventListener('click', afficherMiniPanierOptionB));

        // Initialisation
        afficherMiniPanierOptionB();
    </script>
</body>
</html>
