<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Azra - Boutique électronique</title>
  <style>
    body { font-family: Arial, sans-serif; background-color:#fff; margin:0; padding:0; }
    header { background-color:#333; color:white; text-align:center; padding:20px; }
    header h1 { margin:0; }
    header p { margin:5px 0 0 0; }
    #recherche { padding:10px 15px; width:250px; border-radius:25px; border:1px solid #ccc; font-size:16px; margin:20px auto; display:block; }
    .products { display:flex; justify-content:space-around; flex-wrap:wrap; padding:20px; }
    .product { border:1px solid #ddd; border-radius:10px; padding:15px; margin:10px; width:250px; text-align:center; box-shadow:0 2px 5px rgba(0,0,0,0.1);}
    .product img { max-width:100%; height:auto; border-radius:5px; }
    .product h3 { margin:10px 0; }
    button { background-color: orange; color:black; border:none; padding:10px 15px; border-radius:5px; cursor:pointer; font-weight:bold; margin-top:10px;}
    button:hover { background-color:#ff9900; }
    #panier { text-align:center; margin-top:20px; }
    #resumePanier { margin-bottom:10px; font-weight:bold; }
    footer { background-color:#333; color:white; text-align:center; padding:20px; margin-top:30px; }
  </style>
</head>
<body>

<header>
  <h1>Azra</h1>
  <p>Livraison à Kinshasa</p>
</header>

<input type="text" id="recherche" placeholder="Que cherchez-vous ?" onkeyup="filtrerProduits()">

<div class="products">
  <div class="product">
    <img src="casque_p9.png" alt="Casque P9" />
    <h3>Casque P9</h3>
    <button onclick="ajouterPanier('Casque P9')">Ajouter au panier</button>
  </div>
  <div class="product">
    <img src="laptop_stand.jpg" alt="Laptop Stand" />
    <h3>Laptop Stand</h3>
    <button onclick="ajouterPanier('Laptop Stand')">Ajouter au panier</button>
  </div>
  <div class="product">
    <img src="usb_dongle_bluetooth.jpg" alt="USB Dongle Bluetooth" />
    <h3>USB Dongle Bluetooth</h3>
    <button onclick="ajouterPanier('USB Dongle Bluetooth')">Ajouter au panier</button>
  </div>
</div>

<!-- Résumé du panier et bouton Voir le panier -->
<div id="panier">
  <div id="resumePanier">Panier : 0 produit(s)</div>
  <button onclick="window.location.href='panier.html'">Voir le panier</button>
</div>

<footer>
  <p>Azra - Boutique électronique</p>
  <p>Livraison à Kinshasa</p>
  <p>© 2025 Tous droits réservés</p>
</footer>

<script>
let panier = JSON.parse(localStorage.getItem('panier')) || {};

// Ajouter un produit
function ajouterPanier(produit){
  if(panier[produit]) panier[produit] +=1;
  else panier[produit] =1;
  localStorage.setItem('panier', JSON.stringify(panier));
  afficherResumePanier();
}

// Afficher résumé du panier (max 3 produits, reste = '...')
function afficherResumePanier(){
  // Recharge le panier depuis localStorage pour rester synchronisé
  panier = JSON.parse(localStorage.getItem('panier')) || {};

  let resume = [];
  let count = 0;
  for(let produit in panier){
    if(count <3){
      resume.push(panier[produit]+" "+produit);
      count++;
    }
  }
  let totalProduits = Object.keys(panier).length;
  if(totalProduits>3) resume.push('...');
  document.getElementById('resumePanier').innerText = resume.join(', ');
}

// Affichage initial
afficherResumePanier();

// Filtrer les produits
function filtrerProduits(){
  let input = document.getElementById('recherche').value.toLowerCase();
  let produits = document.getElementsByClassName('product');
  for(let i=0;i<produits.length;i++){
    let nom = produits[i].getElementsByTagName('h3')[0].innerText.toLowerCase();
    produits[i].style.display = nom.includes(input) ? "" : "none";
  }
}

// Mettre à jour le résumé périodiquement pour rester synchronisé si panier.html change
setInterval(afficherResumePanier, 1000); // toutes les 1 seconde
</script>

</body>
</html>
